import V from"./App-614025f9.js";import{T as M,o as y,c as k,j as t,g as o,h as u,t as a,F as T,e as B,f as x,u as C,a as s,l as N,r as g,y as q}from"./app-fd2e362e.js";import{_ as D}from"./AlertModal-b7f02320.js";import{u as I}from"./useAlertModal-f29a27f8.js";import{_ as j}from"./Table-e7af5ef0.js";import{T as E,a as O,_ as d}from"./TableHeaderRowItem-5948be2e.js";import{T as R,a as P,_ as f}from"./TableBodyRowItem-67a04ae7.js";import{_ as U}from"./Dropdown-a70d4080.js";import{_ as Z,a as A}from"./DropdownItem-d36cf8cb.js";import{_ as H}from"./FormModalModified-6f4f4168.js";import{t as c}from"./FormSelect-5caad53a.js";import"./App-9e701bac.js";import"./useRtl-478da9f6.js";import"./index-5d564015.js";/* empty css              */import"./MobileSidebar-e098d59d.js";import"./FormInput-f79cdfd7.js";import"./ProfileModal-8049870f.js";import"./FormPhoneInput-c654d7d2.js";import"./transition-8f6fba2c.js";import"./keyboard-57418130.js";import"./use-text-value-b86e2634.js";import"./Sidebar-8a6acd17.js";import"./Menu-71f8ce76.js";import"./Sidebar-e86ebcfa.js";import"./Pagination-b73762b6.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-tree-walker-27a99f69.js";import"./Modal-06062d9d.js";import"./FormImage-ff4725db.js";import"./FormTextArea-36a40e76.js";const Q={__name:"CouponTable",props:{rows:{type:Array,required:!0}},emits:["edit","delete"],setup(_,{emit:$}){const{isOpenAlert:i,openAlert:v,confirmAlert:p}=I(),b=$,r=M({test:null});function w(n){b("edit",n)}const h=n=>{r.delete("/admin/coupons/"+n)};return(n,l)=>(y(),k(T,null,[t(j,{rows:_.rows},{default:o(()=>[t(E,null,{default:o(()=>[t(O,null,{default:o(()=>[t(d,{position:"first"},{default:o(()=>[u(a(n.$t("Name")),1)]),_:1}),t(d,null,{default:o(()=>[u(a(n.$t("Coupon code")),1)]),_:1}),t(d,null,{default:o(()=>[u(a(n.$t("Percentage")),1)]),_:1}),t(d,null,{default:o(()=>[u(a(n.$t("Quantity")),1)]),_:1}),t(d,null,{default:o(()=>[u(a(n.$t("Status")),1)]),_:1}),t(d,{position:"last"})]),_:1})]),_:1}),t(R,null,{default:o(()=>[(y(!0),k(T,null,B(_.rows.data,(e,m)=>(y(),x(P,{key:m},{default:o(()=>[t(f,{position:"first"},{default:o(()=>[u(a(e.name),1)]),_:2},1024),t(f,null,{default:o(()=>[u(a(e.code),1)]),_:2},1024),t(f,null,{default:o(()=>[u(a(e.percentage)+"%",1)]),_:2},1024),t(f,null,{default:o(()=>[u(a(e.quantity-e.quantity_redeemed),1)]),_:2},1024),t(f,null,{default:o(()=>[u(a(n.$t(e.status)),1)]),_:2},1024),t(f,{position:"last"},{default:o(()=>[t(U,{align:"right",class:"mt-2"},{items:o(()=>[t(Z,null,{default:o(()=>[t(A,{as:"button",onClick:F=>w(e.id)},{default:o(()=>[u(a(n.$t("Edit")),1)]),_:1},8,["onClick"]),t(A,{as:"button",onClick:F=>C(v)(e.id)},{default:o(()=>[u(a(n.$t("Delete")),1)]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[l[2]||(l[2]=s("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[s("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["rows"]),t(D,{modelValue:C(i),"onUpdate:modelValue":l[0]||(l[0]=e=>N(i)?i.value=e:null),onConfirm:l[1]||(l[1]=()=>C(p)(h)),label:n.$t("Delete row"),description:n.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},S={class:"flex justify-between"},L={class:"text-xl mb-1"},z={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},G={class:"ml-1 mt-1"},Ae={__name:"Coupon",props:{rows:Object},setup(_){const $=_,i=g(!1),v=g("Add Coupon"),p=g("/admin/coupons"),b=g("post"),r={name:null,code:null,percentage:null,quantity:null},w=(l,e={})=>{v.value=c("Add coupon"),p.value="/admin/coupons",b.value="post",l!=null?(v.value=c("Edit coupon"),p.value="/admin/coupons/"+l,b.value="put",h()):(r.name=null,r.code=null,r.percentage=null,r.quantity=null,i.value=!0)};function h(){q.get(p.value).then(l=>{const{data:e}=l;for(const m in e.item)r.hasOwnProperty(m)&&(r[m]=e.item[m]);i.value=!0}).catch(l=>{})}const n=[{inputType:"FormInput",name:"name",label:c("name"),type:"text",className:"sm:col-span-6"},{inputType:"FormInput",name:"code",label:c("Coupon code"),type:"text",className:"sm:col-span-3"},{inputType:"FormInput",name:"percentage",label:c("Percentage"),type:"number",className:"sm:col-span-3"},{inputType:"FormInput",name:"quantity",label:c("Quantity"),type:"number",className:"sm:col-span-6"}];return(l,e)=>(y(),x(V,null,{default:o(()=>[s("div",S,[s("div",null,[s("h2",L,a(l.$t("Coupons")),1),s("p",z,[e[3]||(e[3]=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),s("span",G,a(l.$t("Configure coupons")),1)])]),s("div",null,[s("button",{onClick:e[0]||(e[0]=m=>w()),type:"button",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},a(l.$t("Add coupon")),1)])]),t(Q,{rows:$.rows,onEdit:w,onDelete:l.openAlert},null,8,["rows","onDelete"]),t(H,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=m=>i.value=m),label:v.value,url:p.value,form:r,formInputs:n,formMethod:b.value,onCloseModal:e[2]||(e[2]=m=>i.value=!1)},null,8,["modelValue","label","url","formMethod"])]),_:1}))}};export{Ae as default};
