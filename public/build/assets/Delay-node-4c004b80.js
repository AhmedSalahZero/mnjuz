import{m as u,r as D,K as N,p as A,c as v,j as a,u as i,a as t,t as g,h as x,n as B,k as M,b as j,o as f}from"./app-b42f2b4d.js";import{u as E,b as T,c as y,d as b}from"./vue-flow-core-728dded2.js";import{_ as F}from"./FormCheckbox-58df961f.js";import{F as S}from"./FormInput-16f42d38.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const I={class:"delay-node"},$={class:"bg-white border-2 border-teal-200 rounded-lg p-4 shadow-sm w-[400px]",style:{"min-width":"400px"}},H={class:"flex items-center mb-3"},U={class:"flex items-center gap-2 flex-1"},q={class:"font-medium text-gray-900 text-sm"},K={class:"text-xs text-gray-600 mb-2"},L={class:"flex items-center justify-between text-xs"},O={class:"flex items-center gap-1"},P={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},W={class:"bg-white rounded-lg max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto"},G={class:"space-y-4"},J={class:"space-y-3"},Q={class:"flex items-center"},R={__name:"Delay-node",props:{id:String,data:Object,selected:Boolean},setup(h){const n=h,{removeNodes:w}=E(),m=T(),l=u(()=>{var s;return((s=n.data)==null?void 0:s.config)||{}}),r=u(()=>{var s;return((s=n.data)==null?void 0:s.is_active)!==!1}),d=D(!1),_=u(()=>{const s=l.value;return s.duration?`Delay: ${s.duration} minutes`:"Delay"}),o=N({config:{},is_active:!0}),k=()=>{const s=l.value||{};o.config={duration:s.duration||5},o.is_active=r.value,d.value=!0},p=()=>{d.value=!1},C=()=>{m.node.data={...m.node.data,actionType:"delay",config:o.config,is_active:o.is_active},p()},V=()=>{confirm("Are you sure you want to delete this action?")&&w([n.id])};return A(()=>{}),(s,e)=>(f(),v("div",I,[a(i(b),{type:"target",position:i(y).Top,class:"w-3 h-3 !bg-teal-500"},null,8,["position"]),t("div",$,[t("div",H,[t("div",U,[e[2]||(e[2]=t("div",{class:"w-8 h-8 bg-slate-50 rounded-lg flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"text-teal-600"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12,6 12,12 16,14"})])],-1)),t("div",null,[t("h3",q,g(_.value),1)])]),t("div",{class:"flex items-center gap-1 ml-auto"},[t("button",{onClick:k,class:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Edit Action"},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])]),t("button",{onClick:V,class:"p-1 text-red-400 hover:text-red-600 rounded",title:"Delete Action"},[...e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)])])])]),t("div",K,[t("div",null,[e[5]||(e[5]=t("span",{class:"font-medium"},"Delay:",-1)),x(" "+g(l.value.duration)+" minutes ",1)])]),t("div",L,[e[6]||(e[6]=t("span",{class:"text-gray-500"},"Action",-1)),t("div",O,[t("span",{class:B([r.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs"])},g(r.value?"Active":"Inactive"),3)])])]),a(i(b),{type:"source",position:i(y).Bottom,class:"w-3 h-3 !bg-teal-500"},null,8,["position"]),d.value?(f(),v("div",P,[t("div",W,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Edit Delay Action")],-1)),t("form",{onSubmit:M(C,["prevent"]),class:"p-6"},[t("div",G,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Configuration",-1)),t("div",J,[t("div",null,[a(S,{modelValue:o.config.duration,"onUpdate:modelValue":e[0]||(e[0]=c=>o.config.duration=c),label:"Duration (minutes)",type:"number",min:"1",max:"1440",required:""},null,8,["modelValue"])]),e[7]||(e[7]=t("div",{class:"bg-gray-50 border border-blue-200 rounded-lg p-3"},[t("p",{class:"text-xs text-gray-600 mb-1"},[t("strong",null,"What happens:"),x(" The flow will pause for the specified duration before continuing to the next action. ")]),t("p",{class:"text-xs text-gray-500"}," This is useful for creating time-based delays in your automation flow. ")],-1))])]),t("div",Q,[a(F,{modelValue:o.is_active,"onUpdate:modelValue":e[1]||(e[1]=c=>o.is_active=c),label:"Active",class:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"},null,8,["modelValue"])])]),t("div",{class:"flex justify-end space-x-3 mt-6"},[t("button",{type:"button",onClick:p,class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),e[9]||(e[9]=t("button",{type:"submit",class:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors"}," Save Changes ",-1))])],32)])])):j("",!0)]))}},st=z(R,[["__scopeId","data-v-a90e41b8"]]);export{st as default};
