import{r as $,T as j,p as A,R as B,c as n,a as t,j as d,g as w,u as o,t as i,h as x,k as M,b as g,n as f,o as c,i as v}from"./app-fc385eef.js";import{F as b}from"./FormInput-74b7c38b.js";import{u as N}from"./useRtl-5852df55.js";import{u as F,a as T}from"./ReCaptcha-55f58cbf.js";const U={class:"flex h-screen justify-center"},S={class:"flex justify-center"},Z={class:"w-[20em] mt-40"},L={class:"flex justify-center mb-5"},P=["src","alt"],z={key:1,class:"text-2xl mb-2"},D={class:"text-2xl text-center"},E={class:"text-center text-sm text-slate-500"},I={key:0,class:"text-sm bg-[green] text-white mb-2 py-2 px-1 text-center rounded"},K={key:1,class:"form-error text-[#b91c1c] text-xs"},q={class:"mt-6"},G={key:0,type:"submit",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full"},H={key:1,type:"button",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full flex justify-center"},Y={__name:"Reset",props:["flash","config","companyConfig"],setup(k){const{rtlClass:C,isRtl:J}=N(),r=k,u=$(!1),a=j({password:null,password_confirmation:null,recaptcha_response:null}),l=s=>{const e=r.config.find(m=>m.key===s);return e?e.value:""},V=async()=>{if(u.value=!0,l("recaptcha_active")==="1"){const e=await R();a.recaptcha_response=e}const s=window.location.href;a.post(s,{preserveScroll:!0,onFinish:()=>{u.value=!1}})},R=()=>new Promise(s=>{grecaptcha.ready(()=>{grecaptcha.execute(l("recaptcha_site_key"),{action:"submit"}).then(e=>{s(e)})})});return A(()=>{l("recaptcha_active")==="1"&&F(l("recaptcha_site_key"))}),B(()=>{T(l("recaptcha_site_key"))}),(s,e)=>{var m,h,y,_;return c(),n("div",{class:f(o(C))},[t("div",U,[t("div",S,[t("div",Z,[t("div",L,[d(o(v),{href:"/"},{default:w(()=>[r.companyConfig.logo?(c(),n("img",{key:0,class:"max-w-[180px]",src:"/media/"+r.companyConfig.logo,alt:r.companyConfig.company_name},null,8,P)):(c(),n("h4",z,i(r.companyConfig.company_name),1))]),_:1})]),t("h1",D,i(s.$t("Reset your password")),1),t("div",E,[x(i(s.$t("Remembered password?"))+" ",1),d(o(v),{href:"login",class:"text-sm text-primary-600 hover:underline dark:text-primary-500 border-b hover:border-none"},{default:w(()=>[x(i(s.$t("Login")),1)]),_:1})]),t("form",{onSubmit:e[2]||(e[2]=M(p=>V(),["prevent"])),class:"mt-5"},[(h=(m=r.flash)==null?void 0:m.status)!=null&&h.message?(c(),n("div",I,[t("span",null,i((_=(y=r.flash)==null?void 0:y.status)==null?void 0:_.message),1)])):g("",!0),d(b,{modelValue:o(a).password,"onUpdate:modelValue":e[0]||(e[0]=p=>o(a).password=p),name:s.$t("Password"),error:o(a).errors.password,type:"password",class:f("sm:col-span-6")},null,8,["modelValue","name","error"]),d(b,{modelValue:o(a).password_confirmation,"onUpdate:modelValue":e[1]||(e[1]=p=>o(a).password_confirmation=p),name:s.$t("Confirm password"),error:o(a).errors.password_confirmation,type:"password",class:f("sm:col-span-6 mt-5")},null,8,["modelValue","name","error"]),o(a).errors.recaptcha_response?(c(),n("div",K,i(o(a).errors.recaptcha_response),1)):g("",!0),t("div",q,[u.value?(c(),n("button",H,[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),t("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[t("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1)])])):(c(),n("button",G,i(s.$t("Reset password")),1))])],32)])])])],2)}}};export{Y as default};
