import{r as S,a3 as P,u as $,aV as F,a2 as J,m as E,s as A,_ as V,H as L,p as q}from"./app-fc385eef.js";function M(e){return F()?(J(e),!0):!1}function C(e){return typeof e=="function"?e():$(e)}const T=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const D=e=>typeof e<"u",G=Object.prototype.toString,R=e=>G.call(e)==="[object Object]",B=()=>{};function H(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function I(e,t,n={}){const{immediate:r=!0}=n,s=S(!1);let o=null;function f(){o&&(clearTimeout(o),o=null)}function c(){s.value=!1,f()}function m(...d){f(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,e(...d)},C(t))}return r&&(s.value=!0,T&&m()),M(c),{isPending:P(s),start:m,stop:c}}function U(e){var t;const n=C(e);return(t=n==null?void 0:n.$el)!=null?t:n}const z=T?window:void 0,N=T?window.navigator:void 0;function W(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=z):[t,n,r,s]=e,!t)return B;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],f=()=>{o.forEach(a=>a()),o.length=0},c=(a,p,v,l)=>(a.addEventListener(p,v,l),()=>a.removeEventListener(p,v,l)),m=A(()=>[U(t),C(s)],([a,p])=>{if(f(),!a)return;const v=R(p)?{...p}:p;o.push(...n.flatMap(l=>r.map(y=>c(a,l,y,v))))},{immediate:!0,flush:"post"}),d=()=>{m(),f()};return M(d),d}function K(){const e=S(!1),t=V();return t&&q(()=>{e.value=!0},t),e}function j(e){const t=K();return E(()=>(t.value,!!e()))}function O(e,t={}){const{controls:n=!1,navigator:r=N}=t,s=j(()=>r&&"permissions"in r);let o;const f=typeof e=="string"?{name:e}:e,c=S(),m=()=>{o&&(c.value=o.state)},d=H(async()=>{if(s.value){if(!o)try{o=await r.permissions.query(f),W(o,"change",m),m()}catch{c.value="prompt"}return o}});return d(),n?{state:c,isSupported:s,query:d}:c}function Y(e={}){const{navigator:t=N,read:n=!1,source:r,copiedDuring:s=1500,legacy:o=!1}=e,f=j(()=>t&&"clipboard"in t),c=O("clipboard-read"),m=O("clipboard-write"),d=E(()=>f.value||o),a=S(""),p=S(!1),v=I(()=>p.value=!1,s);function l(){f.value&&w(c.value)?t.clipboard.readText().then(u=>{a.value=u}):a.value=h()}d.value&&n&&W(["copy","cut"],l);async function y(u=C(r)){d.value&&u!=null&&(f.value&&w(m.value)?await t.clipboard.writeText(u):g(u),a.value=u,p.value=!0,v.start())}function g(u){const i=document.createElement("textarea");i.value=u??"",i.style.position="absolute",i.style.opacity="0",document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove()}function h(){var u,i,b;return(b=(i=(u=document==null?void 0:document.getSelection)==null?void 0:u.call(document))==null?void 0:i.toString())!=null?b:""}function w(u){return u==="granted"||u==="prompt"}return{isSupported:d,text:a,copied:p,copy:y}}function Q(e){return JSON.parse(JSON.stringify(e))}function Z(e,t,n,r={}){var s,o,f;const{clone:c=!1,passive:m=!1,eventName:d,deep:a=!1,defaultValue:p,shouldEmit:v}=r,l=V(),y=n||(l==null?void 0:l.emit)||((s=l==null?void 0:l.$emit)==null?void 0:s.bind(l))||((f=(o=l==null?void 0:l.proxy)==null?void 0:o.$emit)==null?void 0:f.bind(l==null?void 0:l.proxy));let g=d;t||(t="modelValue"),g=g||`update:${t.toString()}`;const h=i=>c?typeof c=="function"?c(i):Q(i):i,w=()=>D(e[t])?h(e[t]):p,u=i=>{v?v(i)&&y(g,i):y(g,i)};if(m){const i=w(),b=S(i);let x=!1;return A(()=>e[t],_=>{x||(x=!0,b.value=h(_),L(()=>x=!1))}),A(b,_=>{!x&&(_!==e[t]||a)&&u(_)},{deep:a}),b}else return E({get(){return w()},set(i){u(i)}})}export{Y as a,Z as u};
